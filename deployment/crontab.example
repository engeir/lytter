# Last.fm Stats - Automated Maintenance Cron Jobs
# Add these lines to your crontab (crontab -e) for automatic updates
# Replace /path/to/lastfm-stats with your actual project path

# RECOMMENDED SETUP - LAYERED UPDATE STRATEGY:

# 1. Quick incremental updates every hour (fast, low impact)
5 * * * * cd /path/to/lastfm-stats && /usr/bin/uv run python cron_updater.py >> /var/log/lastfm-cron.log 2>&1

# 2. Thorough update once a day at 3 AM (detects and fixes gaps)
0 3 * * * cd /path/to/lastfm-stats && /usr/bin/uv run python update_db.py --thorough >> /var/log/lastfm-thorough.log 2>&1

# 3. Gap checking weekly on Sundays at 4 AM (fills any missing data)
0 4 * * 0 cd /path/to/lastfm-stats && /usr/bin/uv run python gap_checker.py --hours 168 --fix >> /var/log/lastfm-gaps.log 2>&1

# 4. Database status check daily at 5 AM (monitoring/alerting)
0 5 * * * cd /path/to/lastfm-stats && /usr/bin/uv run python db_status.py >> /var/log/lastfm-status.log 2>&1

# ALTERNATIVE SETUPS:

# Minimal setup - updates every 4 hours (good for low activity users)
# 5 */4 * * * cd /path/to/lastfm-stats && /usr/bin/uv run python cron_updater.py >> /var/log/lastfm-cron.log 2>&1

# Conservative setup - updates twice daily (6 AM and 6 PM)
# 0 6,18 * * * cd /path/to/lastfm-stats && /usr/bin/uv run python cron_updater.py >> /var/log/lastfm-cron.log 2>&1

# Note: Make sure your system timezone matches your Last.fm timezone for accurate logging
